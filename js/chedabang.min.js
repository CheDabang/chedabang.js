function getClass(t){if(document.getElementsByClassName)return document.getElementsByClassName(t);for(var e=[],a=document.getElementsByTagName("*"),o=0;o<a.length;o++)for(var n=a[o].className.split(" "),r=0;r<n.length;r++)n[r]==t&&e.push(a[o]);return e}function $(t){var e=t.charAt(0),a=t.substr(1);switch(e){case"#":return document.getElementById(a);case".":return getClass(a);default:return document.getElementsByTagName(t)}}function Line(t,e){this.draw=$(e).getContext("2d"),this.data=t;for(var a in t)this.data[a]=parseInt($(e).offsetHeight-50-t[a]);this.drawLine(),this.point()}function Pie(t,e){this.draw=$(e).getContext("2d"),this.data=t,this.pie()}Line.prototype={contructor:Line,drawLine:function(){var t=this.draw;t.beginPath(),t.moveTo(50,550),t.lineTo(50,50),t.moveTo(45,60),t.lineTo(50,50),t.lineTo(55,60),t.moveTo(50,550),t.lineTo(900,550),t.moveTo(890,545),t.lineTo(900,550),t.lineTo(890,555),t.font="bold 16px Microsoft Yahei",t.textAlign="center",t.fillText("0",45,566),t.fillText("Y轴",50,45),t.fillText("X轴",916,555);var e=50,a=850,o=50,n=550,r=0,i=0,l=100;for(var s in data){0==s?(t.moveTo(l,data[s]),t.arc(l,data[s],5,0,2*Math.PI,!1)):(t.lineTo(l,data[s]),t.arc(l,data[s],5,0,2*Math.PI,!1)),l+=60;parseInt(s)+1}for(var d=1;d<=9;d++)n-=50,r+=50,t.moveTo(e,n),t.lineTo(a,n),t.textAlign="end",t.fillText(r,e,n);for(var d=1;d<=12;d++)i++,o+=60,t.fillText(i+"月",o,566);t.stroke(),t.closePath(),t.save()},point:function(){var t=this.draw,e=100;for(var a in data)t.beginPath(),t.fillStyle="red",0==a?t.arc(e,data[a],5,0,2*Math.PI,!0):t.arc(e,data[a],5,0,2*Math.PI,!0),e+=60,t.closePath(),t.fill()}},Pie.prototype={contructor:Pie,pie:function(){var t=this.draw,e=0;for(var a in data)e+=parseInt(data[a]);colors=["blue","#49be38","red","green","yellow","pink","#ff3365","orange","purple"];var o=0,n=0;for(var a in data){var n=n+2*Math.PI*(data[a]/e);t.beginPath(),t.fillStyle=colors[a%9],t.moveTo(300,300),t.arc(300,300,200,o,n,!1),t.closePath(),t.fill(),o=n,t.fillRect(700,30*(parseInt(a)+1),50,20),t.font="bold 16px Microsoft Yahei",t.textBaseline="top",t.moveTo(800,30),t.fillText("第"+(parseInt(a)+1)+"个月份额",760,30*(parseInt(a)+1));var r=Math.round(data[a]/e*1e4)/100+"%";t.fillText(r,870,30*(parseInt(a)+1))}}};