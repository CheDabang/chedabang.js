function getClass(e){if(document.getElementsByClassName)return document.getElementsByClassName(e);for(var t=[],a=document.getElementsByTagName("*"),o=0;o<a.length;o++)for(var i=a[o].className.split(" "),n=0;n<i.length;n++)i[n]==e&&t.push(a[o]);return t}function $(e){var t=e.charAt(0),a=e.substr(1);switch(t){case"#":return document.getElementById(a);case".":return getClass(a);default:return document.getElementsByTagName(e)}}function Line(e,t){this.draw=$(t).getContext("2d"),this.data=e,this.id=$(t),this.drawLine()}function Pie(e,t){this.draw=$(t).getContext("2d"),this.data=e,this.pie()}function Bar(e,t){this.draw=$(t).getContext("2d"),this.data=e,console.log(this.data),this.id=$(t),this.bar()}Line.prototype={contructor:Line,drawLine:function(){var e=new Object;for(var t in data)e[t]=parseInt(this.id.offsetHeight-50-data[t]);var a=this.draw;a.beginPath(),a.moveTo(50,550),a.lineTo(50,50),a.moveTo(45,60),a.lineTo(50,50),a.lineTo(55,60),a.moveTo(50,550),a.lineTo(900,550),a.moveTo(890,545),a.lineTo(900,550),a.lineTo(890,555),a.font="bold 16px Microsoft Yahei",a.textAlign="center",a.fillText("0",45,566),a.fillText("Y轴",50,45),a.fillText("X轴",916,555);var o=50,i=850,n=50,r=550,l=0,s=0,f=100;for(var t in e)0==t?a.moveTo(f,e[t]):a.lineTo(f,e[t]),f+=60;for(var d=1;d<=9;d++)r-=50,l+=50,a.moveTo(o,r),a.lineTo(i,r),a.textAlign="end",a.fillText(l,o,r);for(var d=1;d<=12;d++)s++,n+=60,a.fillText(s+"月",n,566);a.stroke(),a.closePath(),a.save();var f=100;for(var t in e)a.beginPath(),a.fillStyle="red",0==t?a.arc(f,e[t],5,0,2*Math.PI,!0):a.arc(f,e[t],5,0,2*Math.PI,!0),f+=60,a.closePath(),a.fill()}},Pie.prototype={contructor:Pie,pie:function(){var e=this.draw,t=0;for(var a in data)t+=parseInt(data[a]);colors=["blue","#49be38","red","green","yellow","pink","#ff3365","orange","purple"];var o=0,i=0;for(var a in data){var i=i+2*Math.PI*(data[a]/t);e.beginPath(),e.fillStyle=colors[a%9],e.moveTo(300,300),e.arc(300,300,200,o,i,!1),e.closePath(),e.fill(),o=i,e.fillRect(700,30*(parseInt(a)+1),50,20),e.font="bold 16px Microsoft Yahei",e.textBaseline="top",e.moveTo(800,30),e.fillText("第"+(parseInt(a)+1)+"个月份额",760,30*(parseInt(a)+1));var n=Math.round(data[a]/t*1e4)/100+"%";e.fillText(n,870,30*(parseInt(a)+1))}}},Bar.prototype={contructor:Bar,bar:function(){var e=this.draw;e.beginPath(),e.moveTo(50,550),e.lineTo(50,50),e.moveTo(45,60),e.lineTo(50,50),e.lineTo(55,60),e.moveTo(50,550),e.lineTo(900,550),e.moveTo(890,545),e.lineTo(900,550),e.lineTo(890,555),e.font="bold 16px Microsoft Yahei",e.textAlign="center",e.fillText("0",45,566),e.fillText("Y轴",50,50),e.fillText("X轴",916,550);for(var t=50,a=850,o=50,i=550,n=0,r=0,l=1;l<=9;l++)i-=50,n+=50,e.moveTo(t,i),e.lineTo(a,i),e.textAlign="end",e.fillText(n,t,i);for(var l=1;l<=12;l++)r++,o+=60,e.fillText(r+"月",o,566);e.stroke(),e.closePath(),e.save();var s=new Object;for(var f in data)s[f]=parseInt(this.id.offsetHeight-50-data[f]);var d=80;for(var f in this.data)e.beginPath(),e.fillStyle="#008cd6",e.fillRect(d,s[f],30,data[f]),e.closePath(),d+=60}};